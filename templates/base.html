<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quiz Time</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/fomantic-ui@2.9.4/dist/semantic.min.css"
    />
    <script src="https://unpkg.com/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://unpkg.com/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://unpkg.com/fomantic-ui@2.9.4/dist/semantic.min.js"></script>
    <style>
      body {
        background-color: #f7f7f7;
      }
      .main.container {
        padding-top: 5em;
        padding-bottom: 5em;
      }
      /* Chain Grid Styles */
      .char-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
        margin: 1rem 0;
      }
      .char-cell {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2rem;
        border: 1px solid rgba(0, 0, 0, 0.1);
        background: #fff;
        border-radius: 4px;
      }
      /* Pinyin Tags */
      .py-tag {
        font-family: monospace;
        margin: 2px !important;
      }
      .history-box {
        max-height: 400px;
        overflow-y: auto;
        background: #fff;
        border: 1px solid #ddd;
        padding: 10px;
      }
      .timer-text {
        color: #db2828;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div class="ui fixed menu">
      <div class="ui container">
        <a href="/" class="header item">Quiz Time</a>

        {% match user %}
          {% when Some with (u) %}
          <div class="right menu">
            <div class="item">
              {% if u.is_admin() %}#{% else %}${% endif %}{{ u.id }}.
              {{ u.name }}
            </div>
            <a href="/logout" class="item">Logout</a>
          </div>
          {% when None %}
          <div class="right menu">
            <a href="/login" class="item">Login</a>
          </div>
        {% endmatch %}
      </div>
    </div>

    <div class="ui main container">{% block content %}{% endblock %}</div>

    <script>
      $(".ui.dropdown").dropdown();
      $(".message .close").on("click", function () {
        $(this).closest(".message").transition("fade");
      });
    </script>
  </body>
</html>
